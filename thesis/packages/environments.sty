% ============================================================================
% Theorem Environments
% ============================================================================
% This file contains all theorem-like environment definitions

% Set theorem style to definition (non-italic body text)
\theoremstyle{definition}

% ============================================================================
% Numbered Theorem Environments
% ============================================================================
% All numbered environments share the same counter (numbered by section)

\newtheorem{thm}{Theorem}[section]

% Additional environments sharing the same counter as thm
\newtheorem{defn}[thm]{Definition}
\newtheorem{prop}[thm]{Proposition}
\newtheorem{lem}[thm]{Lemma}
\newtheorem{cor}[thm]{Corollary}
\newtheorem{conj}[thm]{Conjecture}
\newtheorem{rmk}[thm]{Remark}
\newtheorem{exmp}[thm]{Example}
\newtheorem{construction}[thm]{Construction}
\newtheorem{notation}[thm]{Notation}
\newtheorem{initiality}[thm]{Initiality Conjecture}
\newtheorem{intlang}[thm]{Internal Languages Conjecture}

% ============================================================================
% Unnumbered Theorem Environments
% ============================================================================

\newtheorem*{organization}{Organization}
\newtheorem*{finalthm}{Theorem \ref{finalthm}}

% ============================================================================
% Hyperref Anchor Fix
% ============================================================================
% All numbered environments share the thm counter (reset per section), but
% hyperref creates anchors using the environment name (rmk.4, defn.1, etc.),
% causing duplicates across chapters. We override \theH<env> for each to
% include the chapter number.
\newcommand{\uniquetheorem}{\thechapter.\thesection.\arabic{thm}}
\renewcommand{\theHthm}{\uniquetheorem}
\renewcommand{\theHdefn}{\uniquetheorem}
\renewcommand{\theHprop}{\uniquetheorem}
\renewcommand{\theHlem}{\uniquetheorem}
\renewcommand{\theHcor}{\uniquetheorem}
\renewcommand{\theHconj}{\uniquetheorem}
\renewcommand{\theHrmk}{\uniquetheorem}
\renewcommand{\theHexmp}{\uniquetheorem}
\renewcommand{\theHconstruction}{\uniquetheorem}
\renewcommand{\theHnotation}{\uniquetheorem}
\renewcommand{\theHinitiality}{\uniquetheorem}
\renewcommand{\theHintlang}{\uniquetheorem}
